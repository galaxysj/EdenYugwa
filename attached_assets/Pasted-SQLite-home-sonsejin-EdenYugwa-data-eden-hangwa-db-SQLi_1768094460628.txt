SQLite 데이터베이스 사용: /home/sonsejin/EdenYugwa/data/eden-hangwa.db
메모리 세션 스토어 사용 (SQLite 모드)
Admin/Manager credentials not found in environment variables
1:16:27 AM [express] serving on port 7000
1:16:29 AM [express] POST /api/auth/login 401 in 24ms :: {"message":"사용자를 찾을 수 없습니다."}
1:16:30 AM [express] POST /api/auth/login 401 in 3ms :: {"message":"사용자를 찾을 수 없습니다."}
^F^C
sonsejin@casaos:~/EdenYugwa$ git pull
remote: Enumerating objects: 14, done.
remote: Counting objects: 100% (14/14), done.
remote: Compressing objects: 100% (1/1), done.
remote: Total 10 (delta 9), reused 10 (delta 9), pack-reused 0 (from 0)
Unpacking objects: 100% (10/10), 2.00 KiB | 1022.00 KiB/s, done.
From https://github.com/galaxysj/EdenYugwa
   a0c1d62..5b2e4ac  main       -> origin/main
Updating a0c1d62..5b2e4ac
Fast-forward
 raspberry-pi/init-sqlite.sql    | 9 +++++++++
 raspberry-pi/migrate-sqlite.sql | 9 +++++++++
 2 files changed, 18 insertions(+)
sonsejin@casaos:~/EdenYugwa$ eden*2376
-bash: eden*2376: command not found
sonsejin@casaos:~/EdenYugwa$ rm data/eden-hangwa.db
sonsejin@casaos:~/EdenYugwa$ sqlite3 data/eden-hangwa.db < raspberry-pi/init-sqlite.sql
sonsejin@casaos:~/EdenYugwa$ raspberry-pi/start-pi.sh
=== Eden 한과 주문관리 시스템 시작 ===
디렉토리 설정 중...
환경변수 로드 중...
애플리케이션 시작 중...

Eden 한과 주문관리 시스템이 시작됩니다. (데비안 OS)
접속 주소: http://192.168.219.106:7000
종료하려면 Ctrl+C를 누르세요.


> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js

SQLite 데이터베이스 사용: /home/sonsejin/EdenYugwa/data/eden-hangwa.db
메모리 세션 스토어 사용 (SQLite 모드)
Admin/Manager credentials not found in environment variables
1:20:36 AM [express] serving on port 7000
1:20:40 AM [express] POST /api/auth/login 200 in 177ms :: {"message":"로그인 성공","user":{"id":1,"userna…
Get user error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:40 AM [express] GET /api/auth/user 200 in 6ms :: {"id":1,"username":"galaxysj","role":"admin"}
1:20:41 AM [express] GET /api/dashboard-content 200 in 5ms :: [{"id":1,"key":"welcomeTitle","value":…
1:20:41 AM [express] GET /api/auth/access-control 200 in 6ms :: {"userId":1,"allowedIpRanges":[],"al…
1:20:41 AM [express] GET /api/orders 500 in 5ms :: {"message":"Failed to fetch orders"}
Get sessions error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:41 AM [express] GET /api/auth/sessions 500 in 5ms :: {"message":"세션 조회에 실패했습니다"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9)
1:20:41 AM [express] GET /api/orders/trash 500 in 10ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:20:41 AM [express] GET /api/settings 200 in 3ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
Get login history error: SqliteError: no such column: "success" - should this be a string literal in single-quotes?
    at Database.prepare (/home/sonsejin/EdenYugwa/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:42:30)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/session.cjs:91:17)
    at SQLiteSelectBase._prepare (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:595:88)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:17)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17) {
  code: 'SQLITE_ERROR'
}
1:20:41 AM [express] GET /api/auth/login-history 500 in 5ms :: {"message":"로그인 기록 조회에 실패했습니다"}
1:20:41 AM [express] GET /api/auth/approval-requests 200 in 4ms :: []
Get user error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:42 AM [express] GET /api/auth/user 304 in 3ms :: {"id":1,"username":"galaxysj","role":"admin"}
1:20:42 AM [express] GET /api/dashboard-content 304 in 6ms :: [{"id":1,"key":"welcomeTitle","value":…
1:20:42 AM [express] GET /api/orders 500 in 5ms :: {"message":"Failed to fetch orders"}
Get sessions error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9)
Get login history error: SqliteError: no such column: "success" - should this be a string literal in single-quotes?
    at Database.prepare (/home/sonsejin/EdenYugwa/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:42:30)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/session.cjs:91:17)
    at SQLiteSelectBase._prepare (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:595:88)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:17)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9) {
  code: 'SQLITE_ERROR'
}
1:20:42 AM [express] GET /api/settings 304 in 9ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
1:20:42 AM [express] GET /api/auth/sessions 500 in 9ms :: {"message":"세션 조회에 실패했습니다"}
1:20:42 AM [express] GET /api/auth/login-history 500 in 7ms :: {"message":"로그인 기록 조회에 실패했습니다"}
1:20:42 AM [express] GET /api/auth/approval-requests 304 in 5ms :: []
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:42 AM [express] GET /api/auth/access-control 304 in 4ms :: {"userId":1,"allowedIpRanges":[],"al…
1:20:42 AM [express] GET /api/orders/trash 500 in 4ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:43 AM [express] GET /api/orders/trash 500 in 2ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:45 AM [express] GET /api/orders/trash 500 in 3ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:20:47 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
Error fetching admin settings: SqliteError: no such column: "business_name" - should this be a string literal in single-quotes?
    at Database.prepare (/home/sonsejin/EdenYugwa/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:42:30)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/session.cjs:91:17)
    at SQLiteSelectBase._prepare (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:595:88)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:17)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17) {
  code: 'SQLITE_ERROR'
}
1:20:47 AM [express] GET /api/admin-settings 500 in 3ms :: {"error":"관리자 설정을 불러오는데 실패했습니다"}
1:20:47 AM [express] GET /api/users 200 in 3ms :: [{"id":1,"username":"galaxysj","name":"관리자","phone…
1:20:50 AM [express] GET /api/settings/shippingFee 200 in 3ms :: {"id":4,"key":"shippingFee","value"…
1:20:50 AM [express] GET /api/settings/freeShippingThreshold 200 in 4ms :: {"id":5,"key":"freeShippi…
1:20:50 AM [express] GET /api/settings 304 in 3ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
1:20:51 AM [express] GET /api/orders 500 in 4ms :: {"message":"Failed to fetch orders"}
Get sessions error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9)
Get login history error: SqliteError: no such column: "success" - should this be a string literal in single-quotes?
    at Database.prepare (/home/sonsejin/EdenYugwa/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:42:30)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/session.cjs:91:17)
    at SQLiteSelectBase._prepare (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:595:88)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:17)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9) {
  code: 'SQLITE_ERROR'
}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9)
1:20:51 AM [express] GET /api/auth/sessions 500 in 10ms :: {"message":"세션 조회에 실패했습니다"}
1:20:51 AM [express] GET /api/auth/login-history 500 in 9ms :: {"message":"로그인 기록 조회에 실패했습니다"}
1:20:51 AM [express] GET /api/orders/trash 500 in 6ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:52 AM [express] GET /api/orders/trash 500 in 3ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:54 AM [express] GET /api/orders/trash 500 in 3ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:20:56 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:20:58 AM [express] GET /api/orders/trash 500 in 4ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
