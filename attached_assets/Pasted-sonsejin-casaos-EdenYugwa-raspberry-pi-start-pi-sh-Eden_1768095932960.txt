sonsejin@casaos:~/EdenYugwa$ ./raspberry-pi/start-pi.sh
=== Eden 한과 주문관리 시스템 시작 ===
디렉토리 설정 중...
환경변수 로드 중...
애플리케이션 시작 중...

Eden 한과 주문관리 시스템이 시작됩니다.
접속 주소: http://192.168.219.106:7000
종료하려면 Ctrl+C를 누르세요.


> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js

SQLite 데이터베이스 사용: /home/sonsejin/EdenYugwa/data/eden-hangwa.db
메모리 세션 스토어 사용 (SQLite 모드)
Admin/Manager credentials not found in environment variables
1:43:21 AM [express] serving on port 7000
1:43:24 AM [express] GET /api/settings 304 in 7ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
1:43:25 AM [express] GET /api/auth/user 401 in 2ms :: {"message":"로그인이 필요합니다."}
1:43:25 AM [express] GET /api/dashboard-content 304 in 2ms :: [{"id":1,"key":"welcomeTitle","value":…
1:43:25 AM [express] GET /api/settings/shippingFee 304 in 2ms :: {"id":4,"key":"shippingFee","value"…
1:43:25 AM [express] GET /api/settings/freeShippingThreshold 304 in 2ms :: {"id":5,"key":"freeShippi…
1:43:25 AM [express] GET /api/settings 304 in 2ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
1:43:25 AM [express] GET /api/settings 304 in 3ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
1:43:33 AM [express] POST /api/auth/login 200 in 163ms :: {"message":"로그인 성공","user":{"id":1,"userna…
Get user error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:43:33 AM [express] GET /api/auth/user 304 in 4ms :: {"id":1,"username":"galaxysj","role":"admin"}
1:43:33 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
Get sessions error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:43:33 AM [express] GET /api/auth/sessions 500 in 3ms :: {"message":"세션 조회에 실패했습니다"}
Get login history error: SqliteError: no such column: "success" - should this be a string literal in single-quotes?
    at Database.prepare (/home/sonsejin/EdenYugwa/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:42:30)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/session.cjs:91:17)
    at SQLiteSelectBase._prepare (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:595:88)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:17)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17) {
  code: 'SQLITE_ERROR'
}
1:43:33 AM [express] GET /api/auth/login-history 500 in 4ms :: {"message":"로그인 기록 조회에 실패했습니다"}
1:43:33 AM [express] GET /api/auth/approval-requests 304 in 3ms :: []
1:43:33 AM [express] GET /api/auth/access-control 304 in 1ms :: {"userId":1,"allowedIpRanges":[],"al…
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:43:33 AM [express] GET /api/orders/trash 500 in 2ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
Get user error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:43:34 AM [express] GET /api/auth/user 304 in 2ms :: {"id":1,"username":"galaxysj","role":"admin"}
1:43:34 AM [express] GET /api/dashboard-content 304 in 2ms :: [{"id":1,"key":"welcomeTitle","value":…
Get sessions error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9)
Get login history error: SqliteError: no such column: "success" - should this be a string literal in single-quotes?
    at Database.prepare (/home/sonsejin/EdenYugwa/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:42:30)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/session.cjs:91:17)
    at SQLiteSelectBase._prepare (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:595:88)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:17)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9) {
  code: 'SQLITE_ERROR'
}
1:43:34 AM [express] GET /api/orders 500 in 9ms :: {"message":"Failed to fetch orders"}
1:43:34 AM [express] GET /api/settings 304 in 8ms :: [{"id":1,"key":"smallBoxPrice","value":"10000",…
1:43:34 AM [express] GET /api/auth/sessions 500 in 7ms :: {"message":"세션 조회에 실패했습니다"}
1:43:34 AM [express] GET /api/auth/login-history 500 in 5ms :: {"message":"로그인 기록 조회에 실패했습니다"}
1:43:34 AM [express] GET /api/auth/approval-requests 304 in 3ms :: []
1:43:34 AM [express] GET /api/auth/access-control 304 in 2ms :: {"userId":1,"allowedIpRanges":[],"al…
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at process.processImmediate (node:internal/timers:454:9)
1:43:34 AM [express] GET /api/orders/trash 500 in 3ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:43:39 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:43:43 AM [express] GET /api/orders/trash 500 in 3ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:43:44 AM [express] GET /api/auth/approval-requests 304 in 2ms :: []
1:43:44 AM [express] GET /api/orders 500 in 4ms :: {"message":"Failed to fetch orders"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:43:45 AM [express] GET /api/orders/trash 500 in 4ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:43:50 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:43:56 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:02 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:08 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:14 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:20 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:26 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
1:44:32 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:38 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
1:44:44 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
1:44:50 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:44:56 AM [express] GET /api/orders 500 in 3ms :: {"message":"Failed to fetch orders"}
1:45:02 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
1:45:08 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
1:45:14 AM [express] GET /api/orders 500 in 4ms :: {"message":"Failed to fetch orders"}
1:45:20 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
GET /api/orders/trash called
Get deleted orders error: TypeError: SQLite3 can only bind numbers, strings, bigints, buffers, and null
    at PreparedQuery.values (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:122:28)
    at PreparedQuery.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/better-sqlite3/session.cjs:97:23)
    at SQLiteSelectBase.all (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:611:28)
    at SQLiteSelectBase.execute (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/sqlite-core/query-builders/select.cjs:620:17)
    at SQLiteSelectBase.then (/home/sonsejin/EdenYugwa/node_modules/drizzle-orm/query-promise.cjs:44:17)
1:45:20 AM [express] GET /api/orders/trash 500 in 3ms :: {"message":"휴지통 주문 조회에 실패했습니다"}
1:45:20 AM [express] GET /api/auth/approval-requests 304 in 1ms :: []
1:45:26 AM [express] GET /api/orders 500 in 4ms :: {"message":"Failed to fetch orders"}
1:45:32 AM [express] GET /api/orders 500 in 2ms :: {"message":"Failed to fetch orders"}
